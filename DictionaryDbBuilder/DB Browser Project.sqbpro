<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="C:/dev/HanBaoBao/tools/DictionaryDbBuilder/bin/Debug/hanbaobao.db"/><window><current_tab id="3"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="125"/><column_width id="3" width="1042"/><expanded_item id="0" parent="-1"/><expanded_item id="1" parent="-1"/><expanded_item id="2" parent="-1"/><expanded_item id="3" parent="-1"/></tab_structure><tab_browse><current_table name=""/><default_encoding codec=""/><browsetable_info data="AAAABwAAABgAcwBxAGwAaQB0AGUAXwBzAHQAYQB0ADQju52QAAACfwAAAAIAAAACAAABngAAAAEAAADnAAAAAAAAAAAA/////wAAABgAcwBxAGwAaQB0AGUAXwBzAHQAYQB0ADEjzeEQAAACfwAAAAIAAAACAAAAZAAAAAEAAAErAAAAAAAAAAAA/////wAAABAAcwBlAG4AdABlAG4AYwBlV+be0AAAApsAAAABAAAAAgAAAXgAAAAAAAAAAAD/////AAAAHABmAHQAcwBfAHMAaQBtAHAAbABpAGYAaQBlAGQEAcYgAAACngAAAAAAAAAAAAAAAAD/////AAAAHABmAHQAcwBfAGQAZQBmAGkAbgBpAHQAaQBvAG6LPhFQAAACuAAAAAAAAAAAAAAAAAD/////AAAAFABkAGkAYwB0AGkAbwBuAGEAcgB5AHKosAAAAp4AAAAAAAAAAAAAAAAA//////////8Fn7HAAAACngAAAAAAAAAAAAAAAAD/////"/></tab_browse><tab_sql><sql name="SQL 1">drop table fts_prefix;
CREATE VIRTUAL TABLE fts_prefix USING fts4 (term, frequency);
insert into fts_prefix select distinct(simplified), frequency from dictionary where simplified is not null;
insert into fts_prefix select distinct(traditional), frequency from dictionary where traditional is not null and not exists (SELECT 1 FROM fts_prefix where fts_prefix match traditional);
INSERT INTO fts_prefix (fts_prefix) VALUES('optimize');
select * from fts_prefix where fts_prefix match '没*'
</sql><sql name="SQL 2">CREATE INDEX IF NOT EXISTS idx_simplified ON dictionary(simplified);
CREATE VIRTUAL TABLE IF NOT EXISTS fts_definition USING fts4 (content='dictionary', definition);
INSERT INTO fts_definition(rowid, definition) SELECT rowid, definition FROM dictionary;
INSERT INTO fts_definition(fts_definition) VALUES('optimize');
CREATE VIRTUAL TABLE IF NOT EXISTS fts_simplified USING fts4 (content='dictionary', simplified);
INSERT INTO fts_simplified(rowid, simplified) SELECT rowid, simplified FROM dictionary;
INSERT INTO fts_simplified(fts_simplified) VALUES('optimize');</sql><sql name="SQL 4">DELETE FROM sentence_links where original not in (select rowid from sentence) and translated not in (select rowid from sentence)</sql><sql name="SQL 5">select count(*) from sentence_links</sql><sql name="SQL 6">select * from dictionary where part_of_speech like &quot;%phon%&quot;</sql><sql name="SQL 7">select * from dictionary where pinyin is null</sql><sql name="SQL 8">drop table fts_prefix;
create virtual table fts_prefix using fts4 (term, frequency, pinyin);
insert into fts_prefix select simplified, frequency, pinyin from (select * from dictionary where simplified not null order by hsk_level not null asc, hsk_level desc, part_of_speech not null desc, frequency desc, rowid desc) group by simplified;
insert into fts_prefix select traditional, frequency, pinyin from (select * from dictionary where traditional not null and not exists (SELECT 1 FROM fts_prefix where fts_prefix match traditional) order by hsk_level not null asc, hsk_level desc, part_of_speech not null desc, frequency desc, rowid desc) group by traditional;
insert into fts_prefix (fts_prefix) values('optimize');</sql><sql name="SQL 9">select simplified, frequency, pinyin from dictionary where simplified is not null  group by simplified order by max(hsk_level not null), min(hsk_level), max(part_of_speech not null), max(frequency)</sql><sql name="SQL 10">select * from dictionary where simplified = '我明白'</sql><sql name="SQL 11">select * from (select * from dictionary where simplified not null order by hsk_level not null asc, hsk_level desc, part_of_speech not null desc, frequency desc, rowid desc) group by simplified 
</sql><current_tab id="8"/></tab_sql></sqlb_project>
